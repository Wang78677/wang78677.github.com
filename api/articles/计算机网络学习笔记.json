{"title":"计算机网络学习笔记","slug":"计算机网络学习笔记","date":"2022-12-31T16:00:00.000Z","updated":"2023-01-30T09:13:03.537Z","comments":true,"path":"api/articles/计算机网络学习笔记.json","photos":[],"link":"","excerpt":"目录ch1 概述ch2 物理层ch3 数据链路层ch4 网络层ch5 传输层ch6 应用层思维导图","covers":["/../images/image-20230101131606049.png","/../images/image-20230101150441460.png","/../images/image-20230101151854140.png","/../images/image-20230101152019805.png","/../images/image-20230101153956461.png","/../images/image-20230101154449178.png","/../images/image-20230101155233961.png","/../images/image-20230101164034497.png","/../images/image-20230101164850496.png","/../images/image-20230101165000277.png","/../images/image-20230101172943729.png","/../images/image-20230101173641797.png","/../images/image-20230101174454377.png","/../images/image-20230101180840298.png","/../images/image-20230101181437560.png","/../images/image-20230101181836865.png","/../images/image-20230101203902511.png","/../images/image-20230101204157409.png","/../images/image-20230101205436842.png","/../images/image-20230101205634367.png","/../images/image-20230101205834890.png","/../images/image-20230102115348558.png","/../images/image-20230102120109573.png","/../images/image-20230102120123590.png","/../images/image-20230102231024588.png","/../images/image-20230103113720880.png","/../images/image-20230103113933090.png","/../images/image-20230103115046462.png","/../images/image-20230103115307519.png","/../images/image-20230103131157874.png","/../images/image-20230103131809428.png","/../images/image-20230103133427628.png","/../images/image-20230103140537999.png","/../images/image-20230103140836102.png","/../images/image-20230103142128686.png","/../images/image-20230103142144033.png","/../images/image-20230103143952911.png","/../images/image-20230103162405388.png","/../images/image-20230103162441391.png","/../images/image-20230103162522933.png","/../images/image-20230103162336518.png","/../images/image-20230103163337684.png","/../images/image-20230103204543476.png","/../images/image-20230103204754289.png","/../images/image-20230103205120877.png","/../images/image-20230103220224954.png","/../images/image-20230103220236117.png","/../images/image-20230103221810967.png","/../images/image-20230103222352735.png","/../images/image-20230103222646847.png","/../images/image-20230103223248763.png","/../images/image-20230103223822487.png","/../images/image-20230103225143824.png","/../images/image-20230103225200842.png","/../images/image-20230103230218658.png","/../images/image-20230103230354116.png","/../images/image-20230108145826327.png","/../images/image-20230108150716729.png","/../images/image-20230108151509455.png","/../images/image-20230108151337410.png","/../images/image-20230108151748558.png","/../images/image-20230108152018704.png","/../images/image-20230108202751643.png","/../images/image-20230109110043028.png","/../images/image-20230109111606123.png","/../images/image-20230109111638852.png","/../images/image-20230109134900481.png","/../images/image-20230109135453898.png","/../images/image-20230109135648782.png","/../images/image-20230109140752547.png","/../images/image-20230109141423493.png","/../images/image-20230109141233741.png","/../images/image-20230109202503468.png","/../images/image-20230109202952810.png","/../images/image-20230109210222069.png","/../images/image-20230109210831531.png","/../images/image-20230109211011776.png","/../images/image-20230109211730735.png","/../images/image-20230109212220829.png","/../images/image-20230109212417297.png","/../images/image-20230109212909242.png","/../images/image-20230122215625987.png","/../images/image-20230122222301672.png","/../images/image-20230122223235130.png","/../images/image-20230109220148381.png","/../images/image-20230110100031520.png","/../images/image-20230110100737322.png","/../images/image-20230110101207531.png","/../images/image-20230125212513434.png","/../images/image-20230125213407217.png","/../images/image-20230125213623298.png","/../images/image-20230125214647852.png","/../images/image-20230125214906252.png","/../images/image-20230125215921331.png","/../images/image-20230125221826604.png","/../images/image-20230127110555448.png","/../images/image-20230127111441876.png","/../images/image-20230127111805513.png","/../images/image-20230127114840225.png","/../images/image-20230127114957418.png","/../images/image-20230127204931095.png","/../images/image-20230127205324871.png","/../images/image-20230127210229693.png","/../images/image-20230127211059659.png","/../images/image-20230128163531417.png","/../images/image-20230128163624781.png","/../images/image-20230129221146235.png","/../images/image-20230130165923067.png","/../images/image-20230130170721856.png","/../images/image-20230130171037228.png","/../images/image-20230130171227354.png","/../images/image-20230130171250126.png","/../images/aHR0cDovL2ltYWdlLmJpdGhhY2hpLmNuLyVFOCVBRSVBMSVFNyVBRSU5NyVFNiU5QyVCQSVFNyVCRCU5MSVFNyVCQiU5Qy5wbmc.png"],"content":"<h2 id=\"目录\"><a href=\"#目录\" class=\"headerlink\" title=\"目录\"></a>目录</h2><ul>\n<li><a href=\"#%E7%AC%AC%E4%B8%80%E7%AB%A0%E6%A6%82%E8%BF%B0\">ch1 概述</a></li>\n<li><a href=\"#%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%89%A9%E7%90%86%E5%B1%82\">ch2 物理层</a></li>\n<li><a href=\"#%E7%AC%AC%E4%B8%89%E7%AB%A0%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82\">ch3 数据链路层</a></li>\n<li><a href=\"#%E7%AC%AC%E5%9B%9B%E7%AB%A0%E7%BD%91%E7%BB%9C%E5%B1%82\">ch4 网络层</a></li>\n<li><a href=\"#%E7%AC%AC%E4%BA%94%E7%AB%A0%E4%BC%A0%E8%BE%93%E5%B1%82\">ch5 传输层</a></li>\n<li><a href=\"#%E7%AC%AC%E5%85%AD%E7%AB%A0%E5%BA%94%E7%94%A8%E5%B1%82\">ch6 应用层</a></li>\n<li><a href=\"#%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE\">思维导图</a></li>\n</ul>\n<span id=\"more\"></span>\n\n<h2 id=\"第一章概述\"><a href=\"#第一章概述\" class=\"headerlink\" title=\"第一章概述\"></a>第一章概述</h2><h3 id=\"1-1-概念、组成、功能和分类\"><a href=\"#1-1-概念、组成、功能和分类\" class=\"headerlink\" title=\"1.1 概念、组成、功能和分类\"></a>1.1 概念、组成、功能和分类</h3><p><strong>计算机网络：</strong>是一个将分散的、具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享与信息传递的系统。</p>\n<p>计算机网络是<strong>互联的、自治的</strong>计算机集合。</p>\n<p><img src=\"/../images/image-20230101131606049.png\" alt=\"image-20230101131606049\"></p>\n<p><strong>计算机网络的功能</strong></p>\n<ol>\n<li>数据通信</li>\n<li>资源共享</li>\n<li>分布式处理</li>\n<li>提高可靠性</li>\n<li>负载均衡</li>\n</ol>\n<p><strong>计算机网络的组成</strong></p>\n<ol>\n<li><strong>组成部分</strong>：硬件、软件、协议</li>\n<li><strong>工作方式</strong>：<ul>\n<li>边缘部分 用户直接使用（C&#x2F;S方式、P2P方式）</li>\n<li>核心部分 为边缘部分服务</li>\n</ul>\n</li>\n<li><strong>功能组成</strong>：<ul>\n<li>通信子网 实现数据通信</li>\n<li>资源子网 实现资源共享&#x2F;数据处理</li>\n</ul>\n</li>\n</ol>\n<p><img src=\"/../images/image-20230101150441460.png\" alt=\"image-20230101150441460\"></p>\n<p><strong>计算机网络的分类</strong></p>\n<ol>\n<li><p><strong>按分布范围分</strong></p>\n<ul>\n<li>广域网 WAN（Wide Area Network）使用了交换技术</li>\n<li>城域网 MAN（Metropolitan Area Network）</li>\n<li>局域网 LAN（Local Area Network）使用了广播技术</li>\n<li>个人区域网 PAN（Personal Area Network）</li>\n</ul>\n</li>\n<li><p><strong>按使用者分</strong></p>\n<ul>\n<li>公用网（中国移动、电信、联通）</li>\n<li>专用网（军队、政府、银行）</li>\n</ul>\n</li>\n<li><p><strong>按交换技术分</strong></p>\n<ul>\n<li>电路交换</li>\n<li>报文交换</li>\n<li>分组交换</li>\n</ul>\n</li>\n<li><p><strong>按拓扑结构分</strong></p>\n<ul>\n<li>总线型</li>\n<li>星型</li>\n<li>环形</li>\n<li>网状型</li>\n</ul>\n<p><img src=\"/../images/image-20230101151854140.png\" alt=\"image-20230101151854140\"></p>\n</li>\n<li><p><strong>按传输技术分</strong></p>\n<ul>\n<li>广播式网络 共享公共通信信道</li>\n<li>点对点网络 使用<strong>分组存储转发</strong>和<strong>路由选择机制</strong></li>\n</ul>\n</li>\n</ol>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230101152019805.png\" alt=\"image-20230101152019805\"></p>\n<h3 id=\"1-2-标准化工作及相关组织\"><a href=\"#1-2-标准化工作及相关组织\" class=\"headerlink\" title=\"1.2 标准化工作及相关组织\"></a>1.2 标准化工作及相关组织</h3><p><strong>标准的分类</strong></p>\n<ul>\n<li><strong>法定标准</strong> 由权威机构制定的正式的、合法的标准（OSI）</li>\n<li><strong>事实标准</strong> 某些公司的产品在竞争中占据了主流，时间长了，这些产品中的协议和技术就成了标准（TCP&#x2F;IP）</li>\n</ul>\n<p><strong>标准化工作</strong></p>\n<p><strong>RFC</strong>（Request For Comments）——因特网标准的形式</p>\n<p>RFC要上升到因特网正式标准的四个阶段：</p>\n<ol>\n<li><strong>因特网草案</strong>（Internet Draft）这个阶段还不是RFC文档</li>\n<li><strong>建议标准</strong>（Proposed Standard）从这个阶段开始成为RFC文档</li>\n<li><strong>草案标准</strong>（Draft Standard）由IETF、IAB审核 （2011年后取消第三阶段）</li>\n<li><strong>因特网标准</strong>（Internet Standard）</li>\n</ol>\n<p><strong>相关组织</strong></p>\n<ul>\n<li><strong>国际标准化组织ISO</strong>（OSI参考模型、HDLC协议）</li>\n<li><strong>国际电信联盟ITU</strong>（指定通信规则）</li>\n<li><strong>国际电气电子工程师协会IEEE</strong>（学术机构、IEEE802系列标准、5G）</li>\n<li><strong>Internet工程任务组IETF</strong>（负责因特网相关标准的制定 RFC XXXX）</li>\n</ul>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230101153956461.png\" alt=\"image-20230101153956461\"></p>\n<h3 id=\"1-3-速率相关的性能指标\"><a href=\"#1-3-速率相关的性能指标\" class=\"headerlink\" title=\"1.3 速率相关的性能指标\"></a>1.3 速率相关的性能指标</h3><p><strong>速率</strong></p>\n<p>即数据率或称为数据传输率或比特率</p>\n<p>比特 1&#x2F;0 位</p>\n<p>连接在计算机网络上的主机在数字通信道上传送数据位数的速率</p>\n<p>单位是b&#x2F;s、kb&#x2F;s、Mb&#x2F;s、Gb&#x2F;s，Tb&#x2F;s</p>\n<p><img src=\"/../images/image-20230101154449178.png\" alt=\"image-20230101154449178\"></p>\n<p><strong>带宽</strong></p>\n<p>原本是指某个信号具有的频带宽度，即最高频率与最低频率之差，单位是赫兹（Hz）</p>\n<p>计算机网络中，带宽用来表示网络的通信线路传送数据的能力，通常是指单位时间内从网络中的某一点另一点所能通过的“<strong>最高数据率</strong>”。单位是“比特每秒”，b&#x2F;s，kb&#x2F;s，Mb&#x2F;s，Gb&#x2F;s。</p>\n<p>通俗来讲：<strong>网络设备所支持的最高速度</strong></p>\n<p><img src=\"/../images/image-20230101155233961.png\" alt=\"image-20230101155233961\"></p>\n<p><strong>吞吐量</strong></p>\n<p>表示<strong>单位时间</strong>内通过某个<strong>网络（或信道、接口）</strong>的数据量，单位b&#x2F;s，kb&#x2F;s，Mb&#x2F;s等。</p>\n<p>吞吐量受网络的带宽或网络的额定速率的限制。</p>\n<h3 id=\"1-4-时延、时延带宽积、RTT和利用率\"><a href=\"#1-4-时延、时延带宽积、RTT和利用率\" class=\"headerlink\" title=\"1.4 时延、时延带宽积、RTT和利用率\"></a>1.4 时延、时延带宽积、RTT和利用率</h3><p><strong>时延</strong></p>\n<p>指数据（报文&#x2F;分组&#x2F;比特流）从网络（或链路）的一端传送到另一端所需的时间，也叫延迟或迟延，单位是s。</p>\n<p>包括以下四项：</p>\n<ul>\n<li><strong>发送时延（传输时延）</strong><code>发送时延=数据长度/信道带宽（发送速率）</code> 高速链路即改变信道带宽</li>\n<li><strong>传播时延</strong> <code>传播时延=信道长度/电磁波在信道上的传播速率</code> 取决于电磁波传播速度和链路长度</li>\n<li><strong>排队时延</strong> 等待输出&#x2F;输入链路可用</li>\n<li><strong>处理时延</strong> 检错、找出口</li>\n</ul>\n<p><strong>时延带宽积</strong></p>\n<p>时延带宽积&#x3D;传播时延*带宽</p>\n<p>时延带宽积又称为以比特为单位的链路长度，即“某段链路现在有多少比特”。</p>\n<p><img src=\"/../images/image-20230101164034497.png\" alt=\"image-20230101164034497\"></p>\n<p><strong>往返时延RTT</strong></p>\n<p>从发送方发送数据开始，到发送方收到接收方的确认（接收方收到数据后立即发送确认），总共经历的时延。</p>\n<p>RTT越大，在收到确认之前，可以发送的数据越多。</p>\n<p>RTT包括：</p>\n<ul>\n<li>往返传播时延&#x3D;传播时延*2</li>\n<li>末端处理时间</li>\n</ul>\n<p><strong>利用率</strong></p>\n<p>包括：</p>\n<ul>\n<li><strong>信道利用率</strong> 有数据通过的时间&#x2F;（有+无）数据通过的时间</li>\n<li><strong>网络利用率</strong> 信道利用率加权平均值</li>\n</ul>\n<p>利用率越大，时延越高，传输数据容易发生堵塞，导致时延增大</p>\n<p><img src=\"/../images/image-20230101164850496.png\" alt=\"image-20230101164850496\"></p>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230101165000277.png\" alt=\"image-20230101165000277\"></p>\n<h3 id=\"2-1-分层结构、协议、接口、服务\"><a href=\"#2-1-分层结构、协议、接口、服务\" class=\"headerlink\" title=\"2.1 分层结构、协议、接口、服务\"></a>2.1 分层结构、协议、接口、服务</h3><p><strong>发送文件前要完成的工作</strong>：</p>\n<ol>\n<li>发起通信的计算机必须将数据通信的通路进行激活；</li>\n<li>要告诉网络如何识别目的主机；</li>\n<li>发起通信的计算机要查明目的主机是否开机，并且与网络连接正常；</li>\n<li>发起通信的计算机要弄清楚，对方计算机中文件管理程序是否已经做好准备工作；</li>\n<li>确保差错和意外可以解决。</li>\n<li>……</li>\n</ol>\n<p><strong>分层的基本原则</strong>：</p>\n<ol>\n<li>各层之间相互独立，每层只实现一种相对独立的功能；</li>\n<li>每层之间界面自然清晰，易于理解，相互交流尽可能少；</li>\n<li>结构上可分割开，每层都采用最合适的技术来实现；</li>\n<li>保持下层对上层的独立性，上层单向使用下层提供的服务；</li>\n<li>整个分层结构应该能促进标准化工作。</li>\n</ol>\n<p><strong>分层结构</strong></p>\n<ol>\n<li><strong>实体</strong>： 第n层中的活动元素称为<strong>n层实体</strong>，同一层的实体叫<strong>对等实体</strong>。</li>\n<li><strong>协议</strong>： 为进行网络中的<strong>对等实体</strong>数据交换而建立的规则、标准或约定称为网络协议。 <code>水平</code><ul>\n<li>语法：规定传输数据的格式</li>\n<li>语义：规定所要完成的功能</li>\n<li>同步：规定各种操作的顺序</li>\n</ul>\n</li>\n<li><strong>接口（访问服务点SAP）</strong>： 上层使用下层服务的入口。</li>\n<li><strong>服务</strong>： 下层为相邻上层提供的功能调用。 <code>垂直</code></li>\n</ol>\n<p><img src=\"/../images/image-20230101172943729.png\" alt=\"image-20230101172943729\"></p>\n<p><strong>具体示例</strong>：</p>\n<p><strong>SDU服务数据单元</strong>：为完成用户所要求的功能而应传送的数据。</p>\n<p><strong>PCI协议控制信息</strong>：控制协议操作的信息。</p>\n<p><strong>PDU协议数据单元</strong>：对等层次之间传送的数据单位。</p>\n<p><img src=\"/../images/image-20230101173641797.png\" alt=\"image-20230101173641797\"></p>\n<p><strong>概念总结</strong></p>\n<ul>\n<li>网络体系结构是从<strong>功能</strong>上描述计算机网络结构</li>\n<li>计算机网络体系结构简称网络体系结构，是<strong>分层结构</strong></li>\n<li>每层遵循某个&#x2F;某些<strong>网络协议</strong>以完成本层功能</li>\n<li><strong>计算机网络体系结构</strong>是计算机网络的<strong>各层及其协议</strong>的集合</li>\n<li>第n层向第n+1层提供服务时，此服务不仅包含第n层本身的功能，还包含由下层服务提供的功能</li>\n<li>仅仅在<strong>相邻层间有接口</strong>，且所提供服务的具体实现细节对上一层完全屏蔽</li>\n<li>体系结构是<strong>抽象</strong>的，而实现是指能运行的一些软件和硬件</li>\n</ul>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230101174454377.png\" alt=\"image-20230101174454377\"></p>\n<h3 id=\"2-2-OSI参考模型（1）\"><a href=\"#2-2-OSI参考模型（1）\" class=\"headerlink\" title=\"2.2 OSI参考模型（1）\"></a>2.2 OSI参考模型（1）</h3><p><strong>计算机网络分层结构</strong></p>\n<ul>\n<li><strong>7层OSI参考模型</strong> （法定标准）</li>\n<li><strong>4层TCP&#x2F;IP参考模型</strong> （事实标准）</li>\n</ul>\n<p>由以上两个&#x3D;&gt;<strong>5层的体系结构</strong></p>\n<p><strong>网络体系结构来源</strong></p>\n<p>为了解决计算机网络复杂的大问题&#x3D;&gt;分层结构（按功能）</p>\n<p>IBM公司推出了第一个网络体系结构SNA，其他还有DEC公司的DNA，美国国防部的TCP&#x2F;IP</p>\n<p>为了支持<strong>异构网络系统</strong>的互通互联，国际标准化组织（ISO）于1984年提出开放系统互连（OSI）参考模型。</p>\n<p>但是！理论成功，市场失败。</p>\n<p>速记口诀：物链网输会示用（物联网淑慧试用）</p>\n<p><img src=\"/../images/image-20230101180840298.png\" alt=\"image-20230101180840298\"></p>\n<p><strong>通信过程</strong></p>\n<p>上面四层为端到端的通信</p>\n<p>下面四层为点到点的通信</p>\n<p><img src=\"/../images/image-20230101181437560.png\" alt=\"image-20230101181437560\"></p>\n<p><img src=\"/../images/image-20230101181836865.png\" alt=\"image-20230101181836865\"></p>\n<h3 id=\"2-3-OSI参考模型（2）\"><a href=\"#2-3-OSI参考模型（2）\" class=\"headerlink\" title=\"2.3 OSI参考模型（2）\"></a>2.3 OSI参考模型（2）</h3><p><strong>应用层</strong></p>\n<p>所有能和用户交互产生网络流量的程序</p>\n<p>典型应用层服务：文件传输（FTP）、电子邮件（SMTP）、万维网（HTTP）……</p>\n<p><strong>表示层</strong></p>\n<p>用于处理在两个通信系统中交换信息的表示方式（语法和语义）</p>\n<ul>\n<li>功能一：数据格式变换</li>\n<li>功能二： 数据加密解密</li>\n<li>功能三：数据压缩和恢复</li>\n</ul>\n<p>主要协议：JPEG、ASCII</p>\n<p><strong>会话层</strong></p>\n<p>向表示层实体&#x2F;用户进程提供<strong>建立连接</strong>并在连接上<strong>有序</strong>地传输数据，这是会话，也是<strong>建立同步</strong>（SYN）</p>\n<ul>\n<li>功能一：建立、管理、终止会话</li>\n<li>功能二：使用校验点可使会话在通信失效时从校验点&#x2F;同步点继续恢复通信，实现数据同步（仅适用于大文件）</li>\n</ul>\n<p>主要协议：ADSP、ASP</p>\n<p><strong>传输层</strong></p>\n<p>负责主机中<strong>两个进程</strong>地通信，即<strong>端到端</strong>的通信，传输单位是报文段或用户数据报。</p>\n<ul>\n<li>功能一：可靠传输、不可靠传输</li>\n<li>功能二：差错控制</li>\n<li>功能三：流量控制</li>\n<li>功能四：复用分用（复用：多个应用层进程可同时使用下面运输层的服务，分用：运输层把收到的信息分别交付给上面应用层中相应的进程）</li>\n</ul>\n<p>主要协议：TCP、UDP</p>\n<p><strong>网络层</strong></p>\n<p>主要任务是把分组从源端传到目的端，为分组交换网上的不同主机提供通信服务，网络层传输单位是<strong>数据报</strong></p>\n<ul>\n<li>功能一：路由选择（最佳路径）</li>\n<li>功能二：流量控制</li>\n<li>功能三：差错控制</li>\n<li>功能四：拥塞控制（若所有节点都来不及接受分组，而要丢弃大量分组的话，网络就处于拥塞状态，因此要采取一定的措施，缓解这种拥塞。</li>\n</ul>\n<p>主要协议：IP、IPX、ICMP、IGMP、ARP、RARP、OSPF</p>\n<p><strong>数据链路层</strong></p>\n<p>主要任务是把网络层传下来的数据报<strong>组装成帧</strong>，数据链路层&#x2F;链路层的传输单位是<strong>帧</strong></p>\n<ul>\n<li>功能一：成帧（定义帧的开始和结束）</li>\n<li>功能二：差错控制 <code>帧错+位错</code></li>\n<li>功能三：流量控制</li>\n<li>功能四：访问（接入）控制 <code>控制对信道的访问</code></li>\n</ul>\n<p>主要协议：SDLC、HDLC、PPP、STP</p>\n<p><strong>物理层</strong></p>\n<p>主要任务是在<strong>物理媒体</strong>上实现比特流的<strong>透明传输</strong>，物理层传输单位是比特</p>\n<p>透明传输：指不管所传数据是什么样的比特组合，都应当能够在链路上传送</p>\n<ul>\n<li>功能一：定义接口特性</li>\n<li>功能二：定义传输模式 <code>单工、半双工、双工</code></li>\n<li>功能三：定义传输速率</li>\n<li>功能四：比特同步</li>\n<li>功能五：比特编码</li>\n</ul>\n<p>主要协议：Rj45、802.3</p>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230101203902511.png\" alt=\"image-20230101203902511\"></p>\n<h3 id=\"2-4-TCP、IP参考模型和5层参考模型\"><a href=\"#2-4-TCP、IP参考模型和5层参考模型\" class=\"headerlink\" title=\"2.4 TCP、IP参考模型和5层参考模型\"></a>2.4 TCP、IP参考模型和5层参考模型</h3><p><strong>OSI参考模型于TCP&#x2F;IP参考模型对比</strong></p>\n<p><img src=\"/../images/image-20230101204157409.png\" alt=\"image-20230101204157409\"></p>\n<p><strong>相同点</strong></p>\n<ol>\n<li>都分层</li>\n<li>基于独立的协议栈的概念</li>\n<li>可以实现异构网络互联</li>\n</ol>\n<p><strong>不同点</strong></p>\n<ol>\n<li><p>OSI定义三点：服务、协议、接口</p>\n</li>\n<li><p>OSI先出现，参考模型先于协议发明，不偏向特定协议</p>\n</li>\n<li><p>TCP&#x2F;IP设计之初就考虑到异构网互联问题，将IP作为重要层次</p>\n</li>\n<li><table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"><strong>ISO&#x2F;OSI参考模型</strong></th>\n<th align=\"center\"><strong>TCP&#x2F;IP模型</strong></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">传输层</td>\n<td align=\"center\">面向连接</td>\n<td align=\"center\">无连接+面向连接</td>\n</tr>\n<tr>\n<td align=\"center\">网络层</td>\n<td align=\"center\">无连接+面向连接</td>\n<td align=\"center\">无连接</td>\n</tr>\n</tbody></table>\n<p><strong>面向连接</strong>分为三个阶段，第一是建立连接，在此阶段，发出一个建立连接的请求。只有在连接成功建立之后，才能开始数据传输，这是第二阶段。接着，当数据传输完毕，必须释放连接。</p>\n<p><strong>面向无连接</strong>没有这么多阶段，它直接进行数据传输。</p>\n</li>\n</ol>\n<p><strong>5层参考模型</strong></p>\n<p><img src=\"/../images/image-20230101205436842.png\" alt=\"image-20230101205436842\"></p>\n<p><strong>5层参考模型的数据封装与解封装</strong></p>\n<p><img src=\"/../images/image-20230101205634367.png\" alt=\"image-20230101205634367\"></p>\n<h3 id=\"第一章总结\"><a href=\"#第一章总结\" class=\"headerlink\" title=\"第一章总结\"></a>第一章总结</h3><p><img src=\"/../images/image-20230101205834890.png\" alt=\"image-20230101205834890\"></p>\n<h2 id=\"第二章物理层\"><a href=\"#第二章物理层\" class=\"headerlink\" title=\"第二章物理层\"></a>第二章物理层</h2><p><strong>本章学习内容：</strong></p>\n<ol>\n<li>通信基础</li>\n<li>两个公式 lim <code>重要</code></li>\n<li>看图说话</li>\n<li>传输介质</li>\n<li>物理层设备</li>\n</ol>\n<h3 id=\"1-1-物理层基本概念\"><a href=\"#1-1-物理层基本概念\" class=\"headerlink\" title=\"1.1 物理层基本概念\"></a>1.1 物理层基本概念</h3><p><strong>概念</strong></p>\n<p>物理层解决如何在连接各种计算机的传输媒体上<strong>传输数据比特流</strong>，而不是指具体的传输媒体</p>\n<p><strong>主要任务</strong></p>\n<p>确定与传输媒体<strong>接口</strong>有关的一些特性  &#x3D;&#x3D;&gt; <strong>定义标准</strong></p>\n<ol>\n<li><strong>机械特性</strong> 定义物理连接的特性，规定物理连接时所采用的规格、接口形状、引线数目、引脚数量和排列情况；</li>\n<li><strong>电气特性</strong> 规定传输二进制位时，线路上信号的电压范围、阻抗匹配、传输速率和距离限制等；</li>\n<li><strong>功能特性</strong> 指明某条线上出现的某一电平表示何种意义，接口部件的信号线的用途；</li>\n<li><strong>规程特性（过程特性）</strong> 定义各条物理线路的工作规程和时序关系。</li>\n</ol>\n<h3 id=\"1-2-数据通信基础知识\"><a href=\"#1-2-数据通信基础知识\" class=\"headerlink\" title=\"1.2 数据通信基础知识\"></a>1.2 数据通信基础知识</h3><p><strong>数据通信模型</strong></p>\n<p><img src=\"/../images/image-20230102115348558.png\" alt=\"image-20230102115348558\"></p>\n<p><strong>数据通信相关术语</strong></p>\n<p>通信的<strong>目的</strong>是传送消息</p>\n<p><strong>数据</strong>： 传送信息的实体，通常是有意义的符号序列</p>\n<p><strong>信号</strong>： 数据的电气&#x2F;电磁的表现，是数据在传输过程中的存在形式</p>\n<ul>\n<li><p><strong>数字信号</strong>：代表消息的参数取值是离散的</p>\n<p><img src=\"/../images/image-20230102120109573.png\" alt=\"image-20230102120109573\"></p>\n</li>\n<li><p><strong>模拟信号</strong>：代表消息的参数取值是连续的</p>\n<p><img src=\"/../images/image-20230102120123590.png\" alt=\"image-20230102120123590\"></p>\n</li>\n</ul>\n<p><strong>信源</strong>： 产生和发送数据的源头</p>\n<p><strong>信宿</strong>： 接收数据的终点</p>\n<p><strong>信道</strong>： 信号的传输媒介，一般用来表示向某一个方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接收信道</p>\n<ul>\n<li><strong>按传输信号分</strong>：<ol>\n<li>模拟信道（传送模拟信号）</li>\n<li>数字信道（传送数字信号）</li>\n</ol>\n</li>\n<li><strong>按传输介质分</strong>：<ol>\n<li>无线信道</li>\n<li>有线信道</li>\n</ol>\n</li>\n</ul>\n<p><strong>三种通信方式</strong>（从通信双方信息的交互方式看）</p>\n<ol>\n<li><strong>单工通信</strong> 只有一个方向的通信而没有反方向的交互，仅需要<strong>一条</strong>信道</li>\n<li><strong>半双工通信</strong> 通信的双方都可以发送或接收消息，但任何一方都不能同时发送和接收，需要<strong>两条</strong>信道</li>\n<li><strong>全双工通信</strong> 通信双方可以同时发送和接受消息，也需要<strong>两条</strong>信道</li>\n</ol>\n<p><strong>两种数据传输方式</strong></p>\n<ol>\n<li><p><strong>串行传输</strong> 速度慢，费用低，适合远距离</p>\n</li>\n<li><p><strong>并行传输</strong> 速度快，费用高，适合近距离 <code>用于计算机内部数据传输</code></p>\n<p><img src=\"/../images/image-20230102231024588.png\" alt=\"image-20230102231024588\"></p>\n</li>\n</ol>\n<h3 id=\"1-3-码元、波特、速率、带宽\"><a href=\"#1-3-码元、波特、速率、带宽\" class=\"headerlink\" title=\"1.3 码元、波特、速率、带宽\"></a>1.3 码元、波特、速率、带宽</h3><p><strong>码元</strong></p>\n<p>是指用一个<strong>固定时长</strong>的<strong>信号波形</strong>（数字脉冲），代表不同离散数值的基本波形，是数字通信中数字信号的计量单位，这个时长内的信号称为k进制码元，而该时长称为码元宽度。当码元的离散状态有M个时（M大于2），此时码元为M进制码元</p>\n<p><strong>1码元可以携带多个比特的信号量</strong>。<code>例如，在使用二进制编码时，只有两种不同的码元，一种代表0状态，另一种代表1状态，而在四进制码元中，一个码元可以分别代表00，01，10，11四种不同的状态</code></p>\n<p><img src=\"/../images/image-20230103113720880.png\" alt=\"image-20230103113720880\"></p>\n<p><img src=\"/../images/image-20230103113933090.png\" alt=\"image-20230103113933090\"></p>\n<p><strong>速率</strong></p>\n<p>速率也叫数据率，是指数据的<strong>传输速率</strong>，表示单位时间内传输的数据量。可用<strong>码元传输速率</strong>和<strong>信息传输速率</strong>表示</p>\n<ol>\n<li><p><strong>码元传输速率</strong>：别名码元速率、波形速率、调制速率、符号速率等，它表示单位时间内数字通信系统所传输的码元个数（也可称为<strong>脉冲个数</strong>或<strong>信号变化次数</strong>），单位是<strong>波特（Baud）</strong>。 <strong>1 Baud&#x3D; 1 码元&#x2F;s</strong></p>\n<p>1波特表示数字通信系统每秒传输一个码元。</p>\n<p><strong>这里的码元可以是多进制的，也可以是二进制的，但码元速率与进制数无关。</strong></p>\n<p><img src=\"/../images/image-20230103115046462.png\" alt=\"image-20230103115046462\"></p>\n</li>\n<li><p><strong>信息传输速率</strong>： 别名信息速率、比特率等，表示单位时间内数字通信系统传输的二进制码元个数（即比特数），单位是比特&#x2F;秒（b&#x2F;s）。</p>\n<p><img src=\"/../images/image-20230103115307519.png\" alt=\"image-20230103115307519\"></p>\n</li>\n</ol>\n<p><strong>关系</strong>： 若一个码元携带n bit信息量，则M Baud的码元传输速率所对应的信息传输速率为 M*n bit&#x2F;s</p>\n<p><strong>带宽</strong>： 表示单位时间内从网络中的某一点到另一点所能通过的<strong>最高数据率</strong>，常用来表示网络的通信线路所能传输数据的能力，单位是<strong>b&#x2F;s</strong></p>\n<h3 id=\"1-4-奈氏准则和香农定理\"><a href=\"#1-4-奈氏准则和香农定理\" class=\"headerlink\" title=\"1.4 奈氏准则和香农定理\"></a>1.4 奈氏准则和香农定理</h3><p><strong>失真</strong></p>\n<p>影响失真的因素：</p>\n<ol>\n<li><strong>码元传输速率</strong></li>\n<li><strong>信号传输距离</strong></li>\n<li><strong>噪声干扰</strong></li>\n<li><strong>传输媒体质量</strong></li>\n</ol>\n<p><img src=\"/../images/image-20230103131157874.png\" alt=\"image-20230103131157874\"></p>\n<p><strong>失真的一种现象——码间串扰</strong></p>\n<p>码间串扰：<strong>接收端</strong>收到的信号波形失去了码元间清晰界限的现象</p>\n<p><img src=\"/../images/image-20230103131809428.png\" alt=\"image-20230103131809428\"></p>\n<p>为了解决码间串扰，提出了<strong>奈氏准则（奈奎斯特定理）</strong></p>\n<p><strong>奈氏准则</strong>： 在理想低通（无噪声，带宽受限）条件下，为了避免码间串扰，极限码元传输速率为2W Baud，W是信道带宽，单位是Hz <code>只有在奈氏准则和香农定理这两个公式中带宽采用Hz</code></p>\n<p><strong>极限数据率</strong></p>\n<p><img src=\"/../images/image-20230103133427628.png\" alt=\"image-20230103133427628\"></p>\n<ol>\n<li>在任何信道中，<strong>码元传输的速率是有上限的</strong>，若传输速率超过此上限，就会出现严重的码间串扰问题，使接收端对码元的完全正确识别成为不可能</li>\n<li>信道的<strong>频道越宽</strong>（即能通过的信号高频分量越多），就可以用更高的速率进行码元的有效传输</li>\n<li>奈氏准则给出了码元传输速率的限制，但并没有对信息传输速率给出限制</li>\n<li>由于码元的传输速率受奈氏准则的制约，所以要提高数据的传输速率，就必须设法使每个码元能携带更多个比特的信息量，这就需要采用多元制的调制方法</li>\n</ol>\n<p><strong>香农定理</strong></p>\n<p><strong>噪声</strong>存在于所有的电子设备和通信设备中，由于噪声随机产生，它的瞬时值有时会很大，因此噪声会使接收端对码元的判决产生错误，但是噪声的影响是相对的，若信号较强，那么噪声影响相对较小，因此<strong>信噪比</strong>就很重要</p>\n<p><strong>信噪比&#x3D;信号的平均功率&#x2F;噪声的平均功率</strong>，常记为<strong>S&#x2F;N</strong>，并用<strong>分贝（dB）</strong>作为度量单位，即：</p>\n<p><img src=\"/../images/image-20230103140537999.png\" alt=\"image-20230103140537999\"></p>\n<p><strong>香农定理</strong>：在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值</p>\n<p><img src=\"/../images/image-20230103140836102.png\" alt=\"image-20230103140836102\"></p>\n<ol>\n<li>信道的带宽或信道中的信噪比越大，则信息的极限传输速率就越高</li>\n<li>对一定的传输带宽和一定的信噪比，信息传输速率的上限就确定了</li>\n<li>只要信息的传输速率低于信道的传输速率，就一定能找到某种方法来实现无差错的传输</li>\n<li>香农定理得出的极限信息传输速率，实际信道能达到的传输速率要比它低不少</li>\n<li>从香农定理可以看出，若信道带宽W或信噪比S&#x2F;N没有上限（不可能），那么信道的极限信息传输速率也就没有上限</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th align=\"left\">奈氏准则（内忧）</th>\n<th>香农定理（外患）</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">带宽受限无噪声条件下，为了避免码间串扰，码元传输速率的上限为2W Buad</td>\n<td>带宽受限有噪声条件下的信息传输速率</td>\n</tr>\n<tr>\n<td align=\"left\">理想低通信道下的极限数据传输率&#x3D;<img src=\"/../images/image-20230103142128686.png\" alt=\"image-20230103142128686\"></td>\n<td>信道的极限数据传输速率&#x3D;<img src=\"/../images/image-20230103142144033.png\" alt=\"image-20230103142144033\"></td>\n</tr>\n<tr>\n<td align=\"left\">要想提高数据率，就要提高带宽&#x2F;采用更好的编码技术</td>\n<td>要想提高数据率，就要提高带宽&#x2F;信噪比</td>\n</tr>\n</tbody></table>\n<h3 id=\"1-5-编码与调制（1）\"><a href=\"#1-5-编码与调制（1）\" class=\"headerlink\" title=\"1.5 编码与调制（1）\"></a>1.5 编码与调制（1）</h3><p><strong>根据信道上传送的信号分为</strong>：</p>\n<ol>\n<li><p><strong>基带信号</strong> 将数字信号1和0直接用两种不同的电压表示，再送到<strong>数字信道</strong>上去传输（<strong>基带传输</strong>）</p>\n<p>（来自信源的信号，像计算机输出的代表各种文字或图像文件的数据信号都是属于基带信号，基带信号就是发出的直接表达了要传输的信息的信号，比如我们说话的声波就是基带信号）</p>\n</li>\n<li><p><strong>宽带信号</strong> 将基带信号进行调制后形成的频分复用模拟信号，再传送到<strong>模拟信道</strong>上去传输（<strong>宽带传输</strong>）</p>\n<p>（把基带信号经过载波调制后，把信号的频率范围搬移到较高的频段以便在信道中传输<code>即仅在一段频率范围内能够通过信道</code>）</p>\n</li>\n</ol>\n<p>在传输距离较<strong>近</strong>时，计算机网络采用<strong>基带传输</strong>方式（近距离衰减小，从而信号内容不易发生变化）</p>\n<p>在传输距离较<strong>远</strong>时，计算机网络采用<strong>宽带传输</strong>方式（远距离衰减大，即使信号变化大也能最后过滤出来基带信号）</p>\n<p><strong>编码与调制</strong></p>\n<p><img src=\"/../images/image-20230103143952911.png\" alt=\"image-20230103143952911\"></p>\n<h3 id=\"1-6-编码与调制（2）\"><a href=\"#1-6-编码与调制（2）\" class=\"headerlink\" title=\"1.6 编码与调制（2）\"></a>1.6 编码与调制（2）</h3><p><strong>数字数据编码为数字信号</strong></p>\n<ol>\n<li><strong>非归零编码（NRZ）</strong></li>\n<li><strong>曼彻斯特编码</strong></li>\n<li><strong>差分曼彻斯特编码</strong></li>\n<li>归零编码（RZ）</li>\n<li>反向不归零编码（NRZI）</li>\n<li>4B&#x2F;5B编码</li>\n</ol>\n<p><strong>非归零编码（NRZ）</strong>高1低0</p>\n<p>编码容易实现，但没有检错功能且无法判断一个码元的开始和结束，以至于收发双方难以保持同步</p>\n<p><strong>归零编码（RZ）</strong></p>\n<p>信号电平在一个码元之内都要恢复到零这种编码成编码方式</p>\n<p><strong>反向不归零编码（NRZI）</strong></p>\n<p>信号电平翻转表示0，信号电平不变表示1</p>\n<p><strong>曼彻斯特编码</strong></p>\n<p>将一个码元分成两个相等的间隔，前一个间隔为低电平后一个间隔为高电平表示码元1；码元0则正好相反。也可以采用相反的规定，该编码的特点是在每一个码元的中间出现电平跳变，位中间的跳变既作时钟信号(可用于同步)，又作数据信号，但它所占的频带宽度是原始的基带宽度的两倍，所以<strong>数据传输速率只有调制速率的1&#x2F;2</strong></p>\n<p><strong>差分曼彻斯特编码</strong> 同1异0</p>\n<p>常用于局域网传输，其规则是：若码元为1，则前半个码元的电平与上一个码元的后半个码元的电平相同，若为0，则相反。该编码的特点是，在每个码元的中间，都有一次电平的跳转，可以实现自同步，且抗干扰性强于曼彻斯特编码</p>\n<p><img src=\"/../images/image-20230103162405388.png\" alt=\"image-20230103162405388\"></p>\n<p><img src=\"/../images/image-20230103162441391.png\" alt=\"image-20230103162441391\"></p>\n<p><img src=\"/../images/image-20230103162522933.png\" alt=\"image-20230103162522933\"></p>\n<p><strong>4B&#x2F;5B编码</strong></p>\n<p>比特流中插入额外的比特以打破一连串的0或1，就是用5个比特来编码4个比特的数据，之后再传给接收方，因此称为4B&#x2F;5B，编码效率为80%。</p>\n<p>只采用16种对应16种不同的4位码，其它的16种作为控制码（帧的开始和结束，线路的状态信息等）或保留</p>\n<p><img src=\"/../images/image-20230103162336518.png\" alt=\"image-20230103162336518\"></p>\n<p><strong>数字数据调制为模拟信号</strong></p>\n<p>数字数据调制技术在发送端将数字信号转换为模拟信号，而在接收端将模拟信号还原为数字信号，分别对应于调制解调器的调制阶段和解调过程</p>\n<p><img src=\"/../images/image-20230103163337684.png\" alt=\"image-20230103163337684\"></p>\n<p><strong>模拟数据编码为数字信号</strong></p>\n<p>计算机内部处理的是二进制数据，处理的都是<strong>数字音频</strong>，所以需要将模拟音频通过采样、量化转换成有限个数字表示的离散序列(即实现<strong>音频数字化</strong>)</p>\n<p>最典型的例子就是对音频信号进行编码的脉码调制(<strong>PCM</strong>)，在计算机应用中，能够达到<strong>最高保真水平</strong>的就是PCM编码，被广泛用于素材保存及音乐欣赏、CD、DVD以及我们常见的 WAV文件中均有应用。它主要包括三步：<strong>抽样、量化、编码</strong></p>\n<ol>\n<li><p><strong>抽样</strong>： 对模拟信号周期性扫描，把时间上连续的信号变成时间上离散的信号。</p>\n<p>为了使所得的离散信号能够无失真地代表被抽样地模型数据，要使用采样定理进行采样：</p>\n<p><img src=\"/../images/image-20230103204543476.png\" alt=\"image-20230103204543476\"></p>\n</li>\n<li><p><strong>量化</strong>： 把抽样取得的电平幅值按照一定的分级标度转化为对应的数字值，并取整数，这就把连续的电平幅值转换为离散的数字量</p>\n</li>\n<li><p><strong>编码</strong>： 把量化的结果转换为与之对应的二进制编码</p>\n</li>\n</ol>\n<p><img src=\"/../images/image-20230103204754289.png\" alt=\"image-20230103204754289\"></p>\n<p><strong>模拟数据调制为模拟信号</strong></p>\n<p>为了实现传输的有效性，可能需要较高的频率。这种调制方式还可以使用频分复用技术，充分利用带宽资源。在电话机和本地交换机所传输的信号是采用模拟信号传输模拟数据的方式；模拟的声音数据是加载到模拟的载波信号中传输的。</p>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230103205120877.png\" alt=\"image-20230103205120877\"></p>\n<h3 id=\"2-物理层传输介质\"><a href=\"#2-物理层传输介质\" class=\"headerlink\" title=\"2 物理层传输介质\"></a>2 物理层传输介质</h3><p>传输介质也称传输媒体&#x2F;传输媒介，它就是数据传输系统中在发送设备和接收设备之间的<strong>物理通路</strong></p>\n<p><strong>传输媒体并不是物理层</strong> 传输媒体在物理层的下面，因为物理层是体系结构的第一层，因此有时称传输媒体为0层。在传输媒体中传输的是信号，但传输媒体并不知道所传输的信号代表什么意思。但物理层规定了电气特性，因此能够识别所传送的比特流。</p>\n<p>传输介质分为：</p>\n<ul>\n<li><strong>导向性传输介质</strong>（电磁波被导向沿着固体媒介<code>（铜线/光纤）</code>传播）</li>\n<li><strong>非导向性传输介质</strong>（自由空间，介质可以是空气，真空，海水等）</li>\n</ul>\n<p><strong>导向型传输介质——1、双绞线</strong></p>\n<p>双绞线是古老、又最常用的传输介质，它由<strong>两根</strong>采用一定规则并排<strong>绞合</strong>的、相互绝缘的<strong>铜导线</strong>组成。</p>\n<p><img src=\"/../images/image-20230103220224954.png\" alt=\"image-20230103220224954\"></p>\n<p><strong>绞合可以减少对相邻导线的电磁干扰</strong></p>\n<p><img src=\"/../images/image-20230103220236117.png\" alt=\"image-20230103220236117\"></p>\n<p>为了进一步提高抗电磁干扰能力，可在双绞线的外面再加上一个由<strong>金属丝</strong>编织成的屏蔽层，这就是**屏蔽双绞线(STP)<strong>，无屏蔽层的双绞线就称为</strong>非屏蔽双绞线(UTP)**。</p>\n<p>双绞线价格便宜，是最常用的传输介质之一，在局域网和传统电话网中普遍使用。模拟传输和数字传输都可以使用双绞线，其通信距离一般为几公里到数十公里。距离太远时，对于<strong>模拟传输</strong>，要用<strong>放大器</strong>放大衰减的信号；对于<strong>数字传输</strong>，要用<strong>中继器</strong>将失真的信号整形。</p>\n<p><strong>导向性传输介质——2、同轴电缆</strong></p>\n<p>同轴电缆由<strong>导体铜质芯线</strong>、<strong>绝缘层</strong>、<strong>网状编织屏蔽层</strong>和<strong>塑料外层</strong>构成。按特性阻抗数值的不同，通常将同轴电缆分为两类：50<code>欧姆</code>同轴电缆和75<code>欧姆</code>同轴电缆。其中，50<code>欧姆</code>同轴电缆主要用于传送基带数字信号，又称为<strong>基带同轴电缆</strong>，它在局域网中得到广泛应用；75<code>欧姆</code>同轴电缆主要用于传送宽带信号，又称为<strong>宽带同轴电缆</strong>，它主要用于有线电视系统 </p>\n<p><img src=\"/../images/image-20230103221810967.png\" alt=\"image-20230103221810967\"></p>\n<p><strong>同轴电缆VS双绞线</strong></p>\n<p>由于外导体屏蔽层的作用，同轴电缆<strong>抗干扰特性</strong>比双绞线好，被广泛用于传输较高速率的数据，其<strong>传输距离</strong>更远，但价格较双绞线贵。</p>\n<p><strong>导向性传输介质——3、光纤</strong></p>\n<p>光纤通信就是利用光导纤维(简称光纤)传递<strong>光脉冲</strong>来进行通信。有光脉冲表示1，无光脉冲表示0。而可见光的频率大约是10e8MHz，因此光纤通信系统的<strong>带宽远远大于</strong>目前其他各种传输媒体的带宽。</p>\n<p>光纤在发送端有光源，可以采用发光二极管或半导体激光器，它们在电脉冲作用下能产生出光脉冲；在接收端用光电二极管做成光检测器，在检测到光脉冲时可还原出电脉冲。</p>\n<p>光纤主要由<strong>纤芯(实心的）</strong>和<strong>包层</strong>构成，光波通过纤芯进行传导，包层较纤芯有较低的折射率。当光线从高折射率的介质射向低折射率的介质时，其折射角将大于入射角。因此，如果入射角足够大，就会出现<strong>全反射</strong>，即光线碰到包层时候就会折射回纤芯、这个过程不断重复，光也就沿着光纤传输下去。</p>\n<p><img src=\"/../images/image-20230103222352735.png\" alt=\"image-20230103222352735\"></p>\n<p>根据射入光纤的数量分为：</p>\n<ul>\n<li><strong>多模光纤</strong></li>\n<li><strong>单模光纤</strong></li>\n</ul>\n<p><img src=\"/../images/image-20230103222646847.png\" alt=\"image-20230103222646847\"></p>\n<p><strong>光纤的特点</strong></p>\n<ol>\n<li>传输损耗小，中继距离长，对远距离传输特别经济</li>\n<li>抗雷电和电磁干扰性能好</li>\n<li>无串音干扰，保密性好，也不易被窃听或截取数据</li>\n<li>体积小，重量轻</li>\n</ol>\n<p><strong>非导向型传输介质</strong></p>\n<p><img src=\"/../images/image-20230103223248763.png\" alt=\"image-20230103223248763\"></p>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230103223822487.png\" alt=\"image-20230103223822487\"></p>\n<h3 id=\"3-物理层设备\"><a href=\"#3-物理层设备\" class=\"headerlink\" title=\"3 物理层设备\"></a>3 物理层设备</h3><p><strong>中继器</strong></p>\n<p><strong>诞生原因</strong>：由于存在损耗，在线路上传输的信号功率会逐渐衰减，衰减到一定程度时将造成信号失真，因此会导致接收错误。</p>\n<p><strong>中继器的功能</strong>：对信号进行<strong>再生和还原</strong>，对衰减的信号进行放大，保持与原数据相同，以增加信号传输的距离，延长网络的长度。</p>\n<p><strong>中继器的两端</strong>：</p>\n<ul>\n<li>两端的网络部分是网段，而不是子网，适用于完全相同的<strong>两类</strong>网络的互连，且两个网段速率要相同</li>\n<li>中继器只将任何电缆段上的数据发送到另一段电缆上，它仅作用于信号的电气部分，并不管数据中是否有错误数据或不适于网段的数据</li>\n<li>两端可连相同媒体，也可连不同媒体</li>\n<li>中继器两端的网段一定要是同一个协议。 (中继器不会存储转发)</li>\n</ul>\n<p><strong>5-4-3规则</strong>：网络标准中都对信号的延迟范围作了具体的规定，因而中继器只能在规定的范围内进行，否则会网络故障</p>\n<p><img src=\"/../images/image-20230103225143824.png\" alt=\"image-20230103225143824\"></p>\n<p><img src=\"/../images/image-20230103225200842.png\" alt=\"image-20230103225200842\"></p>\n<p><strong>集线器（多口中继器）</strong><code>再生，放大信号</code></p>\n<p><strong>集线器的功能</strong>：对信号进行再生<strong>放大转发</strong>，对衰减的信号进行放大，接着转发到其他所有（除输入端口外）处于工作状态的端口上，以增加信号传输的距离，延长网络的长度。不具备信号的定向传送能力，是一个共享式设备。</p>\n<p><img src=\"/../images/image-20230103230218658.png\" alt=\"image-20230103230218658\"></p>\n<h3 id=\"第二章总结\"><a href=\"#第二章总结\" class=\"headerlink\" title=\"第二章总结\"></a>第二章总结</h3><p><img src=\"/../images/image-20230103230354116.png\" alt=\"image-20230103230354116\"></p>\n<h2 id=\"第三章数据链路层\"><a href=\"#第三章数据链路层\" class=\"headerlink\" title=\"第三章数据链路层\"></a>第三章数据链路层</h2><p><strong>本章学习内容</strong></p>\n<ol>\n<li>链路层的功能</li>\n<li>链路层的两种信道</li>\n<li>局域网、广域网</li>\n<li>链路层的设备</li>\n</ol>\n<h3 id=\"3-1-数据链路层功能概述\"><a href=\"#3-1-数据链路层功能概述\" class=\"headerlink\" title=\"3.1 数据链路层功能概述\"></a>3.1 数据链路层功能概述</h3><p><strong>数据链路层基本概念</strong></p>\n<p><strong>结点</strong>：主机、路由器</p>\n<p><strong>链路</strong>：网络中两个结点之间的<strong>物理通道</strong>，链路的传输介质主要有双绞线、光纤和微波。分为有线链路、无线链路。</p>\n<p><strong>数据链路</strong>：网络中两个结点之间的<strong>逻辑通道</strong>，把实现控制数据传输协议的硬件和软件加到链路上就构成数据链路。</p>\n<p><strong>帧</strong>：链路层的协议数据单元，封装网络层数据报。</p>\n<p><strong>数据链路层</strong>负责通过一条链路从一个结点向另一个物理链路直接相连的相邻结点传送数据报。</p>\n<p><strong>数据链路层功能概述</strong></p>\n<p>数据链路层在物理层提供服务的基础上<strong>向网络层提供服务</strong>，其最基本的服务是将源自网络层来的数据<strong>可靠</strong>地传输到相邻节点的目标机网络层。其主要作用是<strong>加强物理层传输原始比特流的功能</strong>，将物理层提供的可能出错的物理连接改造成为<strong>逻辑上无差错的数据链路</strong>，使之对网络层表现为一条无差错的链路。</p>\n<p>功能一：为网络层提供服务。<code>无确认无连接服务，有确认无连接服务，有确认面向连接服务。有连接一定有确认！</code></p>\n<p>功能二：链路管理，即连接的建立、维持、释放（用于面向连接的服务）。</p>\n<p>功能三：组帧。</p>\n<p>功能四：流量控制。限制发送方哦~</p>\n<p>功能五：差错控制（帧错&#x2F;位错）。</p>\n<h3 id=\"3-2-封装成帧和透明传输\"><a href=\"#3-2-封装成帧和透明传输\" class=\"headerlink\" title=\"3.2 封装成帧和透明传输\"></a>3.2 封装成帧和透明传输</h3><p><strong>封装成帧</strong></p>\n<p><strong>封装成帧</strong>就是在一段数据的前后部分添加首部和尾部，这样就构成了一个帧。接收端在收到物理层上交的比特流后，就能根据首部和尾部的标记，从收到的比特流中识别帧的开始和结束。</p>\n<p>首部和尾部包含许多的控制信息，他们的一个重要作用：<strong>帧定界</strong>（确定帧的界限）。</p>\n<p><strong>帧同步</strong>：接收方应当能从接收到的二进制比特流中区分出帧的起始和终止。</p>\n<p><strong>组帧的四种方法</strong>：1.字符计数法，2.字符（节）填充法，3.零比特填充法，4.违规编码法。</p>\n<p><img src=\"/../images/image-20230108145826327.png\" alt=\"image-20230108145826327\"></p>\n<p><strong>透明传输</strong></p>\n<p><strong>透明传输</strong>是指不管所传数据是什么样的比特组合，都应当能够在链路上传送。因此，链路层就“看不见”有什么妨碍数据传输的东西。</p>\n<p>当所传数据中的比特组合恰巧与某一个控制信息完全一样时，就必须采取适当的措施，使收方不会将这样的数据误认为是某种控制信息。这样才能保证数据链路层的传输是透明的。</p>\n<p><strong>字符计数法</strong></p>\n<p>帧首部使用一个计数字段（第一个字节，八位）来标明帧内字符数。<code>痛点：鸡蛋装进一个篮子</code></p>\n<p><img src=\"/../images/image-20230108150716729.png\" alt=\"image-20230108150716729\"></p>\n<p><strong>字符填充法</strong></p>\n<p><img src=\"/../images/image-20230108151509455.png\" alt=\"image-20230108151509455\"></p>\n<ol>\n<li>当传送的帧是由文本文件组成时（文本文件的字符都是从键盘上输入的，都是ASCII码）。不管从键盘上输入什么字符都可以放在帧里传过去，即<strong>透明传输</strong></li>\n<li>当传送的帧是由非ASCII码的文本文件组成时（二进制代码的程序或图像等）。就要采用<strong>字符填充方法实现透明传输</strong></li>\n</ol>\n<p><img src=\"/../images/image-20230108151337410.png\" alt=\"image-20230108151337410\"></p>\n<p><strong>零比特填充法</strong></p>\n<p><img src=\"/../images/image-20230108151748558.png\" alt=\"image-20230108151748558\"></p>\n<p><strong>违规编码法</strong></p>\n<p>可以用“<strong>高-高</strong>”，“<strong>低-低</strong>”来定界帧的起始和终止</p>\n<p><img src=\"/../images/image-20230108152018704.png\" alt=\"image-20230108152018704\"></p>\n<p><strong>四种方法总结</strong></p>\n<p>由于字节计数法中Count字段的脆弱性（其值若有差错将导致灾难性后果）及字符填充实现上的复杂性和不兼容性，目前较普遍使用的帧同步法是<strong>比特填充</strong>和<strong>违规编码法</strong></p>\n<h3 id=\"3-3-1-差错控制（检错编码）\"><a href=\"#3-3-1-差错控制（检错编码）\" class=\"headerlink\" title=\"3.3.1 差错控制（检错编码）\"></a>3.3.1 差错控制（检错编码）</h3><p>概括来说，传输中的差错都是由于噪声引起的。</p>\n<ul>\n<li><p><strong>全局性</strong> 1.由于线路本身电气特性所产生的随机噪声（热噪声），是信道固有的，随机存在的。</p>\n<p>解决办法：提高信噪比来减少或避免干扰。（对传感器下手）</p>\n</li>\n<li><p><strong>局部性</strong> 2.外界特定的短暂原因所造成的冲击噪声，是产生差错的主要原因。</p>\n<p>解决办法：通常利用编码技术来解决</p>\n</li>\n</ul>\n<p><strong>差错</strong>：</p>\n<ol>\n<li><strong>位错</strong> 比特位出错，1变为0，0变为1</li>\n<li><strong>帧错</strong> 丢失、重复、失序</li>\n</ol>\n<p>链路层为网络层提供服务：<strong>无确认无连接服务</strong>（通信质量好，有线传输链路），<strong>有确认无连接服务、有确认面向连接服务</strong>（通信质量差的无线传输链路）</p>\n<p><strong>差错控制（比特错）</strong></p>\n<ul>\n<li><strong>检错编码</strong><ul>\n<li>奇偶校验码</li>\n<li>循环冗余码CRC</li>\n</ul>\n</li>\n<li><strong>纠错编码</strong><ul>\n<li>海明码</li>\n</ul>\n</li>\n</ul>\n<p><strong>编码VS编码</strong></p>\n<p>数据链路层编码和物理层的数据编码与调制<strong>不同</strong>。物理层编码针对的是<strong>单个比特</strong>，解决传输过程中比特的同步等问题，如曼彻斯特编码。而数据链路层的编码针对的是<strong>一组比特</strong>，它通过冗余码的技术实现一组二进制比特串在传输过程是否出现了差错。</p>\n<p><strong>冗余编码</strong></p>\n<p>在数据发送之前，先按某种关系附加上一定的<strong>冗余位</strong>，构成一个符合某一规则的码字后再发送。当要发送的有效数据变化时，相应的冗余位也随之变化，使码字遵从不变的规则。接收端根据收到码字是否仍符合原规则，从而判断是否出错。</p>\n<p><strong>检错编码–奇偶校验码</strong></p>\n<p><img src=\"/../images/image-20230108202751643.png\" alt=\"image-20230108202751643\"></p>\n<p>奇偶校验码的<strong>特点</strong>： 只能检查出及<strong>奇数个比特</strong>错误，检错能力为<strong>50%</strong></p>\n<p><strong>检错编码–CRC循环冗余码</strong></p>\n<p><img src=\"/../images/image-20230109110043028.png\" alt=\"image-20230109110043028\"></p>\n<p><strong>最终发送的数据：要发送的数据+帧检验序列FCS</strong></p>\n<p><strong>计算冗余码</strong>：</p>\n<ol>\n<li><strong>加0</strong> 假设生成多项式G(x)的阶为r，则加r个0</li>\n<li><strong>模2除法</strong> 数据加0后除以多项式，余数为冗余码&#x2F;FCS&#x2F;CRC检验码的比特序列</li>\n</ol>\n<p>多项式<strong>N</strong>位，阶为<strong>N-1</strong></p>\n<p><img src=\"/../images/image-20230109111606123.png\" alt=\"image-20230109111606123\"></p>\n<p><img src=\"/../images/image-20230109111638852.png\" alt=\"image-20230109111638852\"></p>\n<p>在数据链路层仅仅使用循环冗余检验CRC差错检测技术，只能做到对帧的无差错接收，即“凡是接收端数据链路层接受的帧，我们都能以非常接近于1的概率认为这些帧在传输过程中没有产生差错”。接收端丢弃的帧虽然曾收到了，但是最终还是因为有差错被丢弃。“凡是接收端数据链路层接收的帧均无差错”。</p>\n<p><strong>“可靠传输”</strong>：数据链路层发送端发送什么，接收端就收到什么。</p>\n<p>链路层使用CRC检验，能够实现无比特差错的传输，但这还不是可靠传输。</p>\n<h3 id=\"3-3-2-差错控制（纠错编码）\"><a href=\"#3-3-2-差错控制（纠错编码）\" class=\"headerlink\" title=\"3.3.2 差错控制（纠错编码）\"></a>3.3.2 差错控制（纠错编码）</h3><p><strong>纠错编码–海明码</strong></p>\n<p><strong>发现双</strong>比特错，<strong>纠正单</strong>比特错</p>\n<p><strong>工作原理：动一发而牵全身</strong></p>\n<p><img src=\"/../images/image-20230109134900481.png\" alt=\"image-20230109134900481\"></p>\n<p><strong>第一步：确定校验码位数r</strong></p>\n<p><img src=\"/../images/image-20230109135453898.png\" alt=\"image-20230109135453898\"></p>\n<p><strong>第二部：确定校验码和数据的位置</strong></p>\n<p><img src=\"/../images/image-20230109135648782.png\" alt=\"image-20230109135648782\"></p>\n<p><strong>第三步：求出校验码的值</strong></p>\n<p><img src=\"/../images/image-20230109140752547.png\" alt=\"image-20230109140752547\"></p>\n<p>令所有要检验的位异或为0</p>\n<p>故101101的海明码为<strong>00</strong>1<strong>0</strong>011<strong>1</strong>01</p>\n<p><strong>第四步：检错并纠错</strong></p>\n<p><img src=\"/../images/image-20230109141423493.png\" alt=\"image-20230109141423493\"></p>\n<p>令所有要校验的位异或运算，如果某一位异或位1，说明该位出错</p>\n<p>P1校验为1</p>\n<p>P2校验为0</p>\n<p>P3校验为1</p>\n<p>P4校验为0</p>\n<p>所以对应二进制序列为0101，对应十进制5，即出错位是第5位</p>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230109141233741.png\" alt=\"image-20230109141233741\"></p>\n<h3 id=\"3-4-1-流量控制与可靠性传输机制\"><a href=\"#3-4-1-流量控制与可靠性传输机制\" class=\"headerlink\" title=\"3.4.1 流量控制与可靠性传输机制\"></a>3.4.1 流量控制与可靠性传输机制</h3><p><strong>数据链路层的流量控制</strong></p>\n<p><strong>较高的发送速度和较低的接收能力的不匹配</strong>，会造成传输出错，因此流量控制也是数据链路层的一项重要工作。</p>\n<p>数据链路层的流量控制是点对点的，而传输层的流量控制是端到端的。</p>\n<p><strong>数据链路层</strong>流量控制手段：接收方收不下就不回复确认</p>\n<p><strong>传输层</strong>流量控制手段：接收端给发送端一个窗口公告</p>\n<p><strong>流量控制的方法</strong></p>\n<ul>\n<li><strong>停止-等待协议</strong> 每发送完一个帧就停止发送，等待对方的确认，在收到确认后再发送下一个帧</li>\n<li><strong>滑动窗口协议</strong><ul>\n<li>后退N帧协议（GBN）</li>\n<li>选择重传协议（SR）</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/../images/image-20230109202503468.png\" alt=\"image-20230109202503468\"></p>\n<p><strong>可靠传输</strong>：发送端发啥，接收端收啥。</p>\n<p><strong>流量控制</strong>：控制发送速率，使接收方有足够的缓冲空间来接收每一个帧。</p>\n<p><strong>滑动窗口解决</strong>：</p>\n<ol>\n<li>流量控制（收不下就不给确定，想发也发不了）</li>\n<li>可靠传输（发送方自动重传）</li>\n</ol>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230109202952810.png\" alt=\"image-20230109202952810\"></p>\n<h3 id=\"3-4-2-停止-等待协议\"><a href=\"#3-4-2-停止-等待协议\" class=\"headerlink\" title=\"3.4.2 停止-等待协议\"></a>3.4.2 停止-等待协议</h3><p>（以前是放在数据链路层，之后放入传输层）</p>\n<p><strong>1.为什么要有停止-等待协议？</strong></p>\n<ol>\n<li>除了比特出差错，底层信道还会出现丢包问题</li>\n<li>为了实现流量控制</li>\n</ol>\n<p><strong>丢包</strong>：物理线路故障、设备故障、病毒攻击、路由信息错误等原因，会导致数据包的丢失。</p>\n<p><strong>2.研究停等协议的前提？</strong></p>\n<p>虽然现在常用全双工通信方式，但为了讨论问题方便，仅考虑一方发送数据（发送方），一方接收数据（接收方）。</p>\n<p>因为是在讨论可靠传输的原理，所以并不考虑数据是在哪一个层次上传送的。</p>\n<p>“停止-等待”就是每发送完一个分组就停止发送，等待对方确认，在收到确认后再发送下一个分组。</p>\n<p><strong>3.停等协议有几种应用情况？</strong></p>\n<p>无差错情况&amp;有差错情况</p>\n<p><strong>停止等待协议–无差错情况</strong></p>\n<p>每发送1个数据帧就停止并等待，因此用1bit来编号就够</p>\n<p><img src=\"/../images/image-20230109210222069.png\" alt=\"image-20230109210222069\"></p>\n<p><strong>停止协议–有差错情况</strong></p>\n<ol>\n<li><p>数据帧丢失或检测到帧出错</p>\n</li>\n<li><p>ACK丢失</p>\n</li>\n<li><p>ACK迟到</p>\n</li>\n<li><p><strong>数据帧丢失或检测到帧出错</strong></p>\n<p><img src=\"/../images/image-20230109210831531.png\" alt=\"image-20230109210831531\"></p>\n</li>\n<li><p><strong>ACK丢失</strong></p>\n<p><img src=\"/../images/image-20230109211011776.png\" alt=\"image-20230109211011776\"></p>\n</li>\n<li><p><strong>ACK迟到</strong></p>\n<p><img src=\"/../images/image-20230109211730735.png\" alt=\"image-20230109211730735\"></p>\n</li>\n</ol>\n<p><strong>停止协议性能分析</strong></p>\n<p><img src=\"/../images/image-20230109212220829.png\" alt=\"image-20230109212220829\"></p>\n<p><strong>信道利用率</strong></p>\n<p><strong>发送方在一个发送周期内，有效地发送数据所需要的时间占整个发送周期的比率</strong></p>\n<p><img src=\"/../images/image-20230109212417297.png\" alt=\"image-20230109212417297\"></p>\n<p><strong>信道吞吐率&#x3D;信道利用率*发送方的发送速率</strong></p>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230109212909242.png\" alt=\"image-20230109212909242\"></p>\n<h3 id=\"3-4-3-后退N帧协议（GBN）\"><a href=\"#3-4-3-后退N帧协议（GBN）\" class=\"headerlink\" title=\"3.4.3 后退N帧协议（GBN）\"></a>3.4.3 后退N帧协议（GBN）</h3><p><strong>停止-等待协议的弊端</strong>：信道利用率低</p>\n<p>为了解决该弊端：</p>\n<ol>\n<li>必须增加序号范围</li>\n<li>发送方需要缓存多个分组</li>\n</ol>\n<p><img src=\"/../images/image-20230122215625987.png\" alt=\"image-20230122215625987\"></p>\n<p>因此提出：</p>\n<ol>\n<li>后退N帧协议（GBN）</li>\n<li>选择重传协议（SR）</li>\n</ol>\n<p><strong>GBN发送方必须响应的三件事</strong></p>\n<ol>\n<li><p><strong>上层的调用</strong></p>\n<p>上层要发送数据时，发送方先检查发送窗口是否已满，如果未满，则产生一个帧并将其发送；如果窗口已满，发送方只需将数据返回给上层，暗示上层窗口已</p>\n<p>满。上层等一会再发送。（实际实现中，发送方可以缓存这些数据，窗口不满时再发送帧）。</p>\n</li>\n<li><p><strong>收到了一个ACK</strong></p>\n<p>GBN协议中，对n号帧的确认采用<strong>累积确认</strong>的方式，标明接收方已经收到n号帧和它之前的全部帧。</p>\n</li>\n<li><p><strong>超时事件</strong></p>\n<p>协议的名字为后退N帧&#x2F;回退N帧，来源于出现丢失和时延过长帧时发送方的行为。就像在停等协议中一样定时器将再次用于恢复数据帧或确认帧的丢失。如果</p>\n<p>出现超时，发送方重传所有已发送但未被确认的帧。</p>\n</li>\n</ol>\n<p><strong>GBN接收方要做的事</strong></p>\n<ol>\n<li>如果正确收到n号帧，并且按序，那么接收方为n帧发送一个ACK，并将该帧中的数据部分交付给上层。</li>\n<li>其余情况都丢弃帧，并为最近按序接收的帧重新发送ACK。接收方无需缓存任何失序帧，只需要维护一个信息：expectedseqnum（下一个按序接收的帧序号）。</li>\n</ol>\n<p><strong>滑动窗口长度可以无限吗？</strong></p>\n<p>若采用n个比特对帧编号，那么发送窗口的尺寸Wt应满足：<img src=\"/../images/image-20230122222301672.png\" alt=\"image-20230122222301672\"></p>\n<p>因为发送窗口尺寸过大，就会使得接收方无法区别新帧和旧帧。</p>\n<p><strong>GBN协议重点总结</strong></p>\n<ol>\n<li>累计确认（偶尔捎带确认）</li>\n<li>接收方只按顺序接收帧，不按序无情丢弃</li>\n<li>确认序列号最大的、按序到达的帧</li>\n<li>发送窗口最大为2^n-1，接收窗口大小为1</li>\n</ol>\n<p><strong>GBN协议性能分析</strong></p>\n<ol>\n<li>因连续发送数据帧而提高了信道的利用率</li>\n<li>在重传时必须把原本已经正确传送的数据帧重传，使传送效率降低</li>\n</ol>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230122223235130.png\" alt=\"image-20230122223235130\"></p>\n<h3 id=\"3-4-4-选择重传协议（SR）\"><a href=\"#3-4-4-选择重传协议（SR）\" class=\"headerlink\" title=\"3.4.4 选择重传协议（SR）\"></a>3.4.4 选择重传协议（SR）</h3><p><strong>GBN协议的弊端</strong>：累计确定，批量重传</p>\n<p><strong>解决方法</strong>：设置单个确认，同时加大接收窗口，设置接收缓存，缓存乱序到达的帧</p>\n<p><strong>选择重传协议中的滑动窗口</strong></p>\n<p><img src=\"/../images/image-20230109220148381.png\" alt=\"image-20230109220148381\"></p>\n<p><strong>SR发送方必须响应的三件事</strong></p>\n<ol>\n<li><strong>上层的调用</strong> 从上层收到数据后，SR发送方检查下一个可用于该顿的序号，如果序号位于发送窗口内，则发送数据帧；否则就像GBN一样，要么将数据缓存，要么返回给上层之后再传输。</li>\n<li><strong>收到了一个ACK</strong> 如果收到ACK，加入该帧序号在窗口内，则SR发送方将那个被确认的顿标记为已接收。如果该顿序号是窗口的下界（最左边第一个窗口对应的序号），则窗口向前移动到具有最小序号的未确认顿处。如果窗口移动了并且有序号在窗口内的未发送帧，则发送这些帧。</li>\n<li><strong>超时事件</strong> 每个帧都有自己的定时器，一个超时事件发生后只重传一个帧。</li>\n</ol>\n<p><strong>来者不拒</strong></p>\n<p>SR接收方将确认一个正确接收的帧而不管其是否按序。失序的帧将被缓存，并返回给发送方一个该顿的确认帧【收谁确认谁】，直到所有帧（即序号更小的帧）</p>\n<p>皆被收到为止，这时才可以将一批帧按序交付给上层，然后向前移动滑动窗口。</p>\n<p>如果收到了窗口序号外（小于窗口下界）的顿，就返回一个ACK。</p>\n<p>其他情况，就忽略该帧。</p>\n<p><img src=\"/../images/image-20230110100031520.png\" alt=\"image-20230110100031520\"></p>\n<p>发送窗口最好等于接收窗口（大了会溢出，小了没意义）</p>\n<p><img src=\"/../images/image-20230110100737322.png\" alt=\"image-20230110100737322\"></p>\n<p><strong>SR协议重点总结</strong></p>\n<ol>\n<li>对数据帧逐一确认，收到一个确认一个</li>\n<li>只重传出错帧</li>\n<li>接收方有缓存</li>\n</ol>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230110101207531.png\" alt=\"image-20230110101207531\"></p>\n<h3 id=\"3-5-1-信道划分介质访问控制\"><a href=\"#3-5-1-信道划分介质访问控制\" class=\"headerlink\" title=\"3.5.1 信道划分介质访问控制\"></a>3.5.1 信道划分介质访问控制</h3><p><strong>传输数据使用的两种链路</strong></p>\n<ol>\n<li><strong>点对点链路</strong> 两个相邻节点通过一个链路相连，没有第三者 <code>应用：PPP协议，常用于广域网</code></li>\n<li><strong>广播式链路</strong> 所有主机共享通信介质 <code>应用：早期的总线以太网、无线局域网，常用于局域网</code> <code>典型拓扑结构：总线型、星型（逻辑总线型）</code></li>\n</ol>\n<p><strong>介质访问控制</strong>的内容就是，采取一定的措施，使得两对节点之间的通信不会发生互相干扰的情况。</p>\n<p><img src=\"/../images/image-20230125212513434.png\" alt=\"image-20230125212513434\"></p>\n<p><strong>信道划分介质访问控制</strong>：将使用介质的每个设备与来自同一信道上的其他设备的通信隔离开，把时域和频域资源合理地分配给网络上的设备。</p>\n<p><img src=\"/../images/image-20230125213407217.png\" alt=\"image-20230125213407217\"></p>\n<p><strong>频分多路复用FDM</strong></p>\n<p><img src=\"/../images/image-20230125213623298.png\" alt=\"image-20230125213623298\"></p>\n<p><strong>时分多路复用TDM</strong></p>\n<p><img src=\"/../images/image-20230125214647852.png\" alt=\"image-20230125214647852\"></p>\n<p><strong>改进的时分复用–统计时分复用STDM</strong></p>\n<p><img src=\"/../images/image-20230125214906252.png\" alt=\"image-20230125214906252\"></p>\n<p><strong>波分多路复用WDM</strong></p>\n<p><img src=\"/../images/image-20230125215921331.png\" alt=\"image-20230125215921331\"></p>\n<p><strong>码分多路复用CDM</strong></p>\n<p><strong>码分多址（CDMA）</strong>是码分复用的一种方式。</p>\n<p>1个比特分为多个码片&#x2F;芯片（chip），每一个站点被指定一个唯一的m位的芯片序列。</p>\n<p>发送1时站点发送芯片序列，发送0时发送芯片序列反码（通常把0写成-1）</p>\n<p>如何不打架：多个站点同时发送数据的时候，要求各个站点芯片序列相互正交。</p>\n<p>如何合并：各路数据在信道中被线性相加。</p>\n<p>如何分离：合并的数据和源站规格化内积。</p>\n<p><img src=\"/../images/image-20230125221826604.png\" alt=\"image-20230125221826604\"></p>\n<h3 id=\"3-5-2-ALOHA协议\"><a href=\"#3-5-2-ALOHA协议\" class=\"headerlink\" title=\"3.5.2 ALOHA协议\"></a>3.5.2 ALOHA协议</h3><p><img src=\"/../images/image-20230127110555448.png\" alt=\"image-20230127110555448\"></p>\n<p><strong>ALOHA协议分为两种</strong></p>\n<ol>\n<li><strong>纯ALOHA协议</strong></li>\n<li><strong>时隙ALOHA协议</strong></li>\n</ol>\n<p><strong>纯ALOHA协议思想</strong>：不监听信道，不按时间槽发送，随机重发 <code>想发就发</code></p>\n<p><img src=\"/../images/image-20230127111441876.png\" alt=\"image-20230127111441876\"></p>\n<p><strong>时隙ALOHA协议的思想</strong>：把时间分成若干个相同的时间片，所有用户在时间片开始时刻同步接入网络信道，若发生冲突，则必须等到下一个时间片开始时刻再发</p>\n<p>送。<code>控制想发就发的随意性</code></p>\n<p><img src=\"/../images/image-20230127111805513.png\" alt=\"image-20230127111805513\"></p>\n<p><strong>补充</strong>：</p>\n<ol>\n<li>纯ALOHA比时隙ALOHA吞吐量更低，效率更低</li>\n<li>纯ALOHA想发就发，时隙ALOHA只有在时间片段开始时才能发</li>\n</ol>\n<h3 id=\"3-5-3-CSMA协议\"><a href=\"#3-5-3-CSMA协议\" class=\"headerlink\" title=\"3.5.3 CSMA协议\"></a>3.5.3 CSMA协议</h3><p><strong>载波监听多路访问协议CSMA（carrier sense multiple access）</strong></p>\n<p><strong>CS</strong>：载波侦听&#x2F;监听，每一个站在发送数据之前要检测一下总线上是否有其他计算机在发送数据。</p>\n<p><strong>MA</strong>：多点接入，表示许多计算机以多点接入的方式连接在一根总线上。</p>\n<p><img src=\"/../images/image-20230127114840225.png\" alt=\"image-20230127114840225\"></p>\n<p><strong>协议思想</strong>：发送帧之前，<strong>监听</strong>信道</p>\n<p><img src=\"/../images/image-20230127114957418.png\" alt=\"image-20230127114957418\"></p>\n<p><strong>1-坚持CSMA</strong></p>\n<p>坚持指的是对于监听信道<strong>忙</strong>之后的坚持</p>\n<p><img src=\"/../images/image-20230127204931095.png\" alt=\"image-20230127204931095\"></p>\n<p><strong>非坚持CSMA</strong></p>\n<p><img src=\"/../images/image-20230127205324871.png\" alt=\"image-20230127205324871\"></p>\n<p><strong>p-坚持CSMA</strong></p>\n<p><img src=\"/../images/image-20230127210229693.png\" alt=\"image-20230127210229693\"></p>\n<p><strong>三种CSMA对比总结</strong></p>\n<p><img src=\"/../images/image-20230127211059659.png\" alt=\"image-20230127211059659\"></p>\n<h3 id=\"3-5-4-轮询访问介质访问控制\"><a href=\"#3-5-4-轮询访问介质访问控制\" class=\"headerlink\" title=\"3.5.4 轮询访问介质访问控制\"></a>3.5.4 轮询访问介质访问控制</h3><p><strong>信道划分介质访问控制（MAC <code>Multiple Access Control</code>）协议：</strong></p>\n<ul>\n<li>基于<strong>多路复用</strong>技术划分资源</li>\n<li>网络负载重：共享信道效率高，且公平</li>\n<li>网络负载轻：共享信道效率低</li>\n</ul>\n<p><strong>随机访问MAC协议</strong>：<code>唯一会发生冲突的协议</code></p>\n<ul>\n<li>用户根据意愿随机发送信息，发送信息时可独占信道带宽</li>\n<li>网络负载重：产生冲突开销</li>\n<li>网络负载轻：共享信道效率高，单个结点可利用信道全部带宽</li>\n</ul>\n<p><strong>轮询访问MAC协议&#x2F;轮流协议&#x2F;轮转访问MAC协议</strong>：</p>\n<p>既要不产生冲突，又要发送时占全部带宽。</p>\n<p>包括以下两种：</p>\n<ol>\n<li>轮询协议</li>\n<li>令牌传递协议（重要）</li>\n</ol>\n<p><strong>轮询协议</strong></p>\n<p>主节点轮流“邀请”从属节点发送数据</p>\n<p>问题：</p>\n<ol>\n<li>轮询开销</li>\n<li>等待延迟</li>\n<li>单点故障</li>\n</ol>\n<p><strong>令牌传递协议</strong></p>\n<p><img src=\"/../images/image-20230128163531417.png\" alt=\"image-20230128163531417\"></p>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230128163624781.png\" alt=\"image-20230128163624781\"></p>\n<h3 id=\"3-5-5-CSMA-CA协议\"><a href=\"#3-5-5-CSMA-CA协议\" class=\"headerlink\" title=\"3.5.5 CSMA-CA协议\"></a>3.5.5 CSMA-CA协议</h3><p><strong>载波监听多点接入&#x2F;碰撞避免CSMA&#x2F;CA</strong>（carrier sense multiple access with collision avoidance）</p>\n<p><img src=\"/../images/image-20230129221146235.png\" alt=\"image-20230129221146235\"></p>\n<p><strong>工作流程</strong></p>\n<ol>\n<li>发送数据前，先检测信道是否空闲。</li>\n<li>空闲则发出<strong>RTS</strong>（request to send），RTS包括发射端的地址、接收端的地址、下一份数据将持续发送的时间等信息；信道忙则等待。</li>\n<li>接收端收到RTS后，将响应<strong>CTS</strong>（clear to send）。</li>\n<li>发送端收到CTS后，开始发送数据帧（同时<strong>预约信道</strong>：发送方告知其他站点自己要传多久数据）。</li>\n<li>接收端收到数据帧后，将用CRC来检验数据是否正确，正确则响应<strong>ACK帧</strong>。</li>\n<li>发送方收到ACK就可以进行下一个数据帧的发送，若没有则一直重传至规定重发次数为止（采用<strong>二进制指数退避算法</strong>来确定随机的推迟时间）。</li>\n</ol>\n<p><strong>所用协议</strong></p>\n<ol>\n<li>预约信道</li>\n<li>ACK帧</li>\n<li>RTS&#x2F;CTS帧（可选）</li>\n</ol>\n<p><strong>CSMA&#x2F;CD与CSMA&#x2F;CA</strong></p>\n<p><strong>相同点</strong>：</p>\n<p>CSMA&#x2F;CD与CSMA&#x2F;CA机制都从属于CSMA的思路，其核心是<strong>先听再说</strong>。换言之，两个在接入信道之前都须要进行监听。当发现信道空闲后，才能进行接入。</p>\n<p><strong>不同点</strong>：</p>\n<ol>\n<li>传输介质不同：CSMA&#x2F;CD用于总线式以太网【有线】，而CSMA&#x2F;CA用于无线局域网【无线】。</li>\n<li>载波检测方式不同：因传输介质不同，CSMA&#x2F;CD与CSMA&#x2F;CA的检测方式也不同。CSMA&#x2F;CD通过电缆中电压的变化来检测，当数据发生碰撞时，电缆中的电压就会随着发生变化；而CSMA&#x2F;CA采用能量检测（ED）、载波检测（CS）和能量载波混合检测三种检测信道空闲的方式。</li>\n<li>CSMA&#x2F;CD检测冲突，CSMA&#x2F;CA避免冲突，二者出现冲突后都会进行有上限的重传。</li>\n</ol>\n<h3 id=\"3-6-1-局域网基本概念和体系结构\"><a href=\"#3-6-1-局域网基本概念和体系结构\" class=\"headerlink\" title=\"3.6.1 局域网基本概念和体系结构\"></a>3.6.1 局域网基本概念和体系结构</h3><p><strong>局域网</strong></p>\n<p>局域网（Local Area Network）：简称<strong>LAN</strong>，是指在某一区域内由多台计算机互联成的计算机组，使用广播信道。</p>\n<ul>\n<li>特点1：覆盖的地理范围较小，只在一个相对独立的局部范围内联，如一座或集中的建筑群内。</li>\n<li>特点2：使用专门铺设的传输介质（双绞线、同轴电缆）进行联网，数据传输速率高（10Mb&#x2F;s~10Gb&#x2F;s）。</li>\n<li>特点3：通信延迟时间短，误码率低，可靠性较高。</li>\n<li>特点4：各站为平等关系，共享传输信道。</li>\n<li>特点5：多采用分布式控制和广播式通信，能进行广播和组播。</li>\n</ul>\n<p>决定局域网的主要要素为：<strong>网络拓扑</strong>，<strong>传输介质</strong>与<strong>介质访问控制方法</strong>。</p>\n<p><strong>局域网拓扑结构</strong></p>\n<p><img src=\"/../images/image-20230130165923067.png\" alt=\"image-20230130165923067\"></p>\n<p>总线型为目前比较常用的拓扑结构</p>\n<p><strong>局域网的传输介质</strong></p>\n<ol>\n<li><p>有线局域网</p>\n<p>常用介质：双绞线、同轴电缆、光纤</p>\n</li>\n<li><p>无线局域网</p>\n<p>常用介质：电磁波</p>\n</li>\n</ol>\n<p><strong>局域网介质访问控制方法</strong></p>\n<ol>\n<li><p>CSMA&#x2F;CD</p>\n<p>常用于<strong>总线型局域网</strong>，也用于树型网络</p>\n</li>\n<li><p>令牌总线</p>\n<p>常用于<strong>总线型局域网</strong>，也用于树型网络，它是把总线型或树型网络中的各个工作站按一定顺序如按接口地址大小排列形成一个逻辑环。只有令牌持有者才能控制总线，才有发送信息的权力</p>\n</li>\n<li><p>令牌环</p>\n<p>用于<strong>环形局域网</strong>，如令牌环网</p>\n</li>\n</ol>\n<p><strong>局域网的分类</strong></p>\n<p><img src=\"/../images/image-20230130170721856.png\" alt=\"image-20230130170721856\"></p>\n<p><strong>IEEE 802标准</strong></p>\n<p>IEEE 802系列标准是IEEE 802 LAN&#x2F;MAN标准委员会制定的局域网、城域网技术标准（1980年2月成立）。其中最广泛使用的有以太网、令牌环、无线局域网等。这一系列标准中的每一个子标准都由委员会中的一个专门工作组负责。</p>\n<p><img src=\"/../images/image-20230130171037228.png\" alt=\"image-20230130171037228\"></p>\n<p><strong>MAC子层和LLC子层</strong></p>\n<p>IEEE 802标准所描述的局域网参考模型只对应OS1参考模型的数据链路层与物理层，它将数据链路层划分为逻辑链路层LLC子层和介质访问控制MAC子层。</p>\n<p><img src=\"/../images/image-20230130171227354.png\" alt=\"image-20230130171227354\"></p>\n<p><strong>思维导图</strong></p>\n<p><img src=\"/../images/image-20230130171250126.png\" alt=\"image-20230130171250126\"></p>\n<h3 id=\"3-6-2-以太网\"><a href=\"#3-6-2-以太网\" class=\"headerlink\" title=\"3.6.2 以太网\"></a>3.6.2 以太网</h3><h3 id=\"3-6-3-无线局域网\"><a href=\"#3-6-3-无线局域网\" class=\"headerlink\" title=\"3.6.3 无线局域网\"></a>3.6.3 无线局域网</h3><h3 id=\"3-6-4-CSMA-CD协议\"><a href=\"#3-6-4-CSMA-CD协议\" class=\"headerlink\" title=\"3.6.4 CSMA-CD协议\"></a>3.6.4 CSMA-CD协议</h3><h3 id=\"3-7-PPP协议和HDLC协议\"><a href=\"#3-7-PPP协议和HDLC协议\" class=\"headerlink\" title=\"3.7 PPP协议和HDLC协议\"></a>3.7 PPP协议和HDLC协议</h3><h3 id=\"3-8-链路层设备\"><a href=\"#3-8-链路层设备\" class=\"headerlink\" title=\"3.8 链路层设备\"></a>3.8 链路层设备</h3><h3 id=\"3-9-第三章总结\"><a href=\"#3-9-第三章总结\" class=\"headerlink\" title=\"3.9 第三章总结\"></a>3.9 第三章总结</h3><h2 id=\"第四章网络层\"><a href=\"#第四章网络层\" class=\"headerlink\" title=\"第四章网络层\"></a>第四章网络层</h2><h2 id=\"第五章传输层\"><a href=\"#第五章传输层\" class=\"headerlink\" title=\"第五章传输层\"></a>第五章传输层</h2><h2 id=\"第六章应用层\"><a href=\"#第六章应用层\" class=\"headerlink\" title=\"第六章应用层\"></a>第六章应用层</h2><h2 id=\"思维导图\"><a href=\"#思维导图\" class=\"headerlink\" title=\"思维导图\"></a>思维导图</h2><p><img src=\"/../images/aHR0cDovL2ltYWdlLmJpdGhhY2hpLmNuLyVFOCVBRSVBMSVFNyVBRSU5NyVFNiU5QyVCQSVFNyVCRCU5MSVFNyVCQiU5Qy5wbmc.png\" alt=\"思维导图\"></p>\n","categories":[],"tags":[{"name":"笔记","slug":"笔记","count":1,"path":"api/tags/笔记.json"},{"name":"计网","slug":"计网","count":1,"path":"api/tags/计网.json"}]}